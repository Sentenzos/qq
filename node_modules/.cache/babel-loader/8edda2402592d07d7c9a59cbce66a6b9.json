{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import React,{useEffect,useRef}from'react';import\"../Profile.css\";// import avatar from \"../../../assets/img/avatar.png\";\nvar ProfileAvatar=function ProfileAvatar(props){var large=props.userAvatar.large,updateUserPhoto=props.updateUserPhoto,startChatting=props.startChatting,history=props.history,isOwner=props.isOwner,ownerId=props.ownerId,urlUserId=props.urlUserId;var myAvatar=useRef(null);useEffect(function(){if(!large)return;myAvatar.current.style.backgroundImage=\"url(\".concat(large,\")\");},[large]);var handlePhotoSelect=function handlePhotoSelect(e){if(e.target.files.length){updateUserPhoto(e.target.files[0]);}};var startChat=function startChat(){return _regeneratorRuntime.async(function startChat$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(startChatting(urlUserId));case 2:history.push(\"/dialogs\");case 3:case\"end\":return _context.stop();}}});};return React.createElement(\"div\",{className:\"profile-avatar\"},React.createElement(\"div\",{className:\"profile-avatar__avatar\",ref:myAvatar}),isOwner&&React.createElement(\"label\",{className:\"profile-avatar__Label\"},React.createElement(\"input\",{type:\"file\",name:\"userPhoto\",className:\"profile-avatar__file\",onChange:handlePhotoSelect}),\"Edit avatar\"),//не хозяин страницы и залогинен\n!isOwner&&ownerId&&React.createElement(\"div\",{className:\"profile-avatar__Label\",onClick:startChat},\"Start chat\"));};export default ProfileAvatar;","map":{"version":3,"sources":["D:/my-own-social-network/src/components/Profile/ProfileInfo/ProfileAvatar.jsx"],"names":["React","useEffect","useRef","ProfileAvatar","props","large","userAvatar","updateUserPhoto","startChatting","history","isOwner","ownerId","urlUserId","myAvatar","current","style","backgroundImage","handlePhotoSelect","e","target","files","length","startChat","push"],"mappings":"4IAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,MAA1B,KAAuC,OAAvC,CACA,MAAO,gBAAP,CACA;AAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,IAGhBC,CAAAA,KAHgB,CAM3BD,KAN2B,CAG7BE,UAH6B,CAGhBD,KAHgB,CAI7BE,eAJ6B,CAM3BH,KAN2B,CAI7BG,eAJ6B,CAIZC,aAJY,CAM3BJ,KAN2B,CAIZI,aAJY,CAK7BC,OAL6B,CAM3BL,KAN2B,CAK7BK,OAL6B,CAKpBC,OALoB,CAM3BN,KAN2B,CAKpBM,OALoB,CAKXC,OALW,CAM3BP,KAN2B,CAKXO,OALW,CAKFC,SALE,CAM3BR,KAN2B,CAKFQ,SALE,CAQ/B,GAAIC,CAAAA,QAAQ,CAAGX,MAAM,CAAC,IAAD,CAArB,CAEAD,SAAS,CAAC,UAAM,CACd,GAAI,CAACI,KAAL,CAAY,OACZQ,QAAQ,CAACC,OAAT,CAAiBC,KAAjB,CAAuBC,eAAvB,eAAgDX,KAAhD,MACD,CAHQ,CAGN,CAACA,KAAD,CAHM,CAAT,CAKA,GAAMY,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC/B,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAnB,CAA2B,CACzBd,eAAe,CAACW,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf,CACD,CACF,CAJD,CAMA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,uKACVd,aAAa,CAACI,SAAD,CADH,SAEhBH,OAAO,CAACc,IAAR,CAAa,UAAb,EAFgB,8CAAlB,CAKA,MACE,4BAAK,SAAS,CAAC,gBAAf,EACE,2BAAK,SAAS,CAAC,wBAAf,CAAwC,GAAG,CAAEV,QAA7C,EADF,CAGIH,OAAO,EAAI,6BAAO,SAAS,CAAC,uBAAjB,EACT,6BAAO,IAAI,CAAC,MAAZ,CACO,IAAI,CAAC,WADZ,CAEO,SAAS,CAAC,sBAFjB,CAGO,QAAQ,CAAEO,iBAHjB,EADS,eAHf,CAYI;AACA,CAACP,OAAD,EAAYC,OAAZ,EACA,2BAAK,SAAS,CAAC,uBAAf,CAAuC,OAAO,CAAEW,SAAhD,eAdJ,CADF,CAmBD,CA7CD,CAgDA,cAAenB,CAAAA,aAAf","sourcesContent":["import React, {useEffect, useRef} from 'react';\r\nimport \"../Profile.css\"\r\n// import avatar from \"../../../assets/img/avatar.png\";\r\n\r\nconst ProfileAvatar = (props) => {\r\n\r\n  const {\r\n    userAvatar: {large},\r\n    updateUserPhoto, startChatting,\r\n    history, isOwner, ownerId, urlUserId\r\n  } = props;\r\n\r\n  let myAvatar = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!large) return;\r\n    myAvatar.current.style.backgroundImage = `url(${large})`;\r\n  }, [large]);\r\n\r\n  const handlePhotoSelect = (e) => {\r\n    if (e.target.files.length) {\r\n      updateUserPhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const startChat = async () => {\r\n    await startChatting(urlUserId);\r\n    history.push(\"/dialogs\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-avatar\">\r\n      <div className=\"profile-avatar__avatar\" ref={myAvatar}/>\r\n      {\r\n        isOwner && <label className=\"profile-avatar__Label\">\r\n          <input type=\"file\"\r\n                 name=\"userPhoto\"\r\n                 className=\"profile-avatar__file\"\r\n                 onChange={handlePhotoSelect}/>\r\n          Edit avatar\r\n        </label>\r\n      }\r\n      {\r\n        //не хозяин страницы и залогинен\r\n        !isOwner && ownerId &&\r\n        <div className=\"profile-avatar__Label\" onClick={startChat}>Start chat</div>\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default ProfileAvatar;"]},"metadata":{},"sourceType":"module"}