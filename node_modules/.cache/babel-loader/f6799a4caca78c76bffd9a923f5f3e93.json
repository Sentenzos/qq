{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from\"react-redux\";import{deleteMessage,getUserData,getUserStatus,likesControl,sendNewMessage,sendNewUserStatus,stopAnimation,toggleProfileIsUpdating,updateUserData,updateUserPhoto}from\"../../redux/reducers/profileReducer\";import{compose}from\"redux/es/redux\";import Profile from\"./Profile\";import{withRouter}from\"react-router-dom\";import{startChatting}from\"../../redux/reducers/dialogsReducer\";var ProfileContainer=function ProfileContainer(props){var urlUserId=props.match.params.userId;useEffect(function(){props.getUserStatus(urlUserId);props.getUserData(urlUserId);},[urlUserId]);useEffect(function(){document.documentElement.scrollTop=0;},[]);//Если id в стейт отличается от id в url (пользователь перешел с одной страницы профиля на другую),\n// то сначала отправить пустышку чтобы не было мерцания чужого аватара и другой информации\nvar idIsEqual=+urlUserId===props.stateUserId;//является ли человек хозяином страницы\nvar isOwner=+urlUserId===props.ownerId;if(!idIsEqual)return null;return React.createElement(Profile,{userStatus:props.userStatus,sendNewUserStatus:props.sendNewUserStatus,userData:props.userData,updateUserData:props.updateUserData,profileIsUpdating:props.profileIsUpdating,isOwner:isOwner,userId:urlUserId,updateUserPhoto:props.updateUserPhoto,urlUserId:urlUserId,startChatting:props.startChatting,history:props.history,ownerId:props.ownerId,wallMessages:props.wallMessages,sendNewMessage:props.sendNewMessage,likesControl:props.likesControl,toggleProfileIsUpdating:props.toggleProfileIsUpdating,stopAnimation:props.stopAnimation,deleteMessage:props.deleteMessage});};var mapStateToProps=function mapStateToProps(state){return{userStatus:state.profilePage.status,ownerId:state.auth.id,userData:state.profilePage.userData,profileIsUpdating:state.profilePage.profileIsUpdating,stateUserId:state.profilePage.userData.userId,wallMessages:state.profilePage.wallMessages};};export default compose(withRouter,connect(mapStateToProps,{getUserStatus:getUserStatus,sendNewUserStatus:sendNewUserStatus,getUserData:getUserData,updateUserData:updateUserData,updateUserPhoto:updateUserPhoto,startChatting:startChatting,sendNewMessage:sendNewMessage,likesControl:likesControl,toggleProfileIsUpdating:toggleProfileIsUpdating,stopAnimation:stopAnimation,deleteMessage:deleteMessage}))(ProfileContainer);// dialogsAPI.deleteMessage(\"9237f694-6e7d-488f-8dbe-49eb461ee0ce\").then(res=>{\n//   console.log(res);\n// });\n// dialogsAPI.startChatting(5433).then((res)=>{\n//   debugger\n// });\n// dialogsAPI.getAllDialogs().then((res)=>{\n//   debugger\n// });\n// dialogsAPI.getMessagesList(5433).then((res)=>{\n//   debugger\n// });\n// dialogsAPI.sendMessage(5433, `Проверка кириллицы.`).then((res)=>{\n//   console.log(res);\n//   let response = res;\n//     debugger\n//   },\n//   (rej)=>{\n//     console.log(rej);\n//   }\n// );\n//\n// let socket = new WebSocket(\"wss://social-network.samuraijs.com/api/1.0/dialogs/5433\");\n// socket.onopen = function(e) {\n//   console.log(\"[open] Соединение установлено\");\n//   console.log(\"Отправляем данные на сервер\");\n//   socket.send(\"Меня зовут Джон\");\n// };\n// let eventSource = new EventSource(\"https://social-network.samuraijs.com/api/1.0/dialogs/5433\");","map":{"version":3,"sources":["D:/my-own-social-network/src/components/Profile/ProfileContainer.jsx"],"names":["React","useEffect","connect","deleteMessage","getUserData","getUserStatus","likesControl","sendNewMessage","sendNewUserStatus","stopAnimation","toggleProfileIsUpdating","updateUserData","updateUserPhoto","compose","Profile","withRouter","startChatting","ProfileContainer","props","urlUserId","match","params","userId","document","documentElement","scrollTop","idIsEqual","stateUserId","isOwner","ownerId","userStatus","userData","profileIsUpdating","history","wallMessages","mapStateToProps","state","profilePage","status","auth","id"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  deleteMessage,\r\n  getUserData,\r\n  getUserStatus,\r\n  likesControl,\r\n  sendNewMessage,\r\n  sendNewUserStatus,\r\n  stopAnimation,\r\n  toggleProfileIsUpdating,\r\n  updateUserData,\r\n  updateUserPhoto\r\n} from \"../../redux/reducers/profileReducer\";\r\nimport {compose} from \"redux/es/redux\";\r\nimport Profile from \"./Profile\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {startChatting} from \"../../redux/reducers/dialogsReducer\";\r\n\r\n\r\nconst ProfileContainer = (props) => {\r\n\r\n  const urlUserId = props.match.params.userId;\r\n\r\n  useEffect(() => {\r\n    props.getUserStatus(urlUserId);\r\n    props.getUserData(urlUserId);\r\n  }, [urlUserId]);\r\n\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n  }, []);\r\n\r\n  //Если id в стейт отличается от id в url (пользователь перешел с одной страницы профиля на другую),\r\n  // то сначала отправить пустышку чтобы не было мерцания чужого аватара и другой информации\r\n  const idIsEqual = +urlUserId === props.stateUserId;\r\n  //является ли человек хозяином страницы\r\n  const isOwner = +urlUserId === props.ownerId;\r\n\r\n  if (!idIsEqual) return null;\r\n\r\n  return (\r\n    <Profile userStatus={props.userStatus}\r\n             sendNewUserStatus={props.sendNewUserStatus}\r\n             userData={props.userData}\r\n             updateUserData={props.updateUserData}\r\n             profileIsUpdating={props.profileIsUpdating}\r\n             isOwner={isOwner}\r\n             userId={urlUserId}\r\n             updateUserPhoto={props.updateUserPhoto}\r\n             urlUserId={urlUserId}\r\n             startChatting={props.startChatting}\r\n             history={props.history}\r\n             ownerId={props.ownerId}\r\n             wallMessages={props.wallMessages}\r\n             sendNewMessage={props.sendNewMessage}\r\n             likesControl={props.likesControl}\r\n             toggleProfileIsUpdating={props.toggleProfileIsUpdating}\r\n             stopAnimation={props.stopAnimation}\r\n             deleteMessage={props.deleteMessage}\r\n    />\r\n  )\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userStatus: state.profilePage.status,\r\n    ownerId: state.auth.id,\r\n    userData: state.profilePage.userData,\r\n    profileIsUpdating: state.profilePage.profileIsUpdating,\r\n    stateUserId: state.profilePage.userData.userId,\r\n    wallMessages: state.profilePage.wallMessages\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    getUserStatus,\r\n    sendNewUserStatus,\r\n    getUserData,\r\n    updateUserData,\r\n    updateUserPhoto,\r\n    startChatting,\r\n    sendNewMessage,\r\n    likesControl,\r\n    toggleProfileIsUpdating,\r\n    stopAnimation,\r\n    deleteMessage\r\n  })\r\n)(ProfileContainer);\r\n\r\n\r\n// dialogsAPI.deleteMessage(\"9237f694-6e7d-488f-8dbe-49eb461ee0ce\").then(res=>{\r\n//   console.log(res);\r\n// });\r\n\r\n\r\n// dialogsAPI.startChatting(5433).then((res)=>{\r\n//   debugger\r\n// });\r\n\r\n// dialogsAPI.getAllDialogs().then((res)=>{\r\n//   debugger\r\n// });\r\n// dialogsAPI.getMessagesList(5433).then((res)=>{\r\n//   debugger\r\n// });\r\n\r\n// dialogsAPI.sendMessage(5433, `Проверка кириллицы.`).then((res)=>{\r\n//   console.log(res);\r\n//   let response = res;\r\n//     debugger\r\n//   },\r\n//   (rej)=>{\r\n//     console.log(rej);\r\n//   }\r\n// );\r\n\r\n//\r\n\r\n// let socket = new WebSocket(\"wss://social-network.samuraijs.com/api/1.0/dialogs/5433\");\r\n// socket.onopen = function(e) {\r\n//   console.log(\"[open] Соединение установлено\");\r\n//   console.log(\"Отправляем данные на сервер\");\r\n//   socket.send(\"Меня зовут Джон\");\r\n// };\r\n\r\n// let eventSource = new EventSource(\"https://social-network.samuraijs.com/api/1.0/dialogs/5433\");"]},"metadata":{},"sourceType":"module"}