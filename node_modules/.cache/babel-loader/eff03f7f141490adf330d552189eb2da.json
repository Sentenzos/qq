{"ast":null,"code":"import findImg from\"../../assets/img/find.png\";import React,{useCallback}from\"react\";import{Field,reduxForm}from\"redux-form\";import{Input}from\"../../common/FormControl/FormControl\";var UserSearcher=function UserSearcher(props){var activateSearchMode=function activateSearchMode(userName){props.resetPaginatorPortion();props.history.push(\"/users/search/1/\".concat(userName));};var deactivateSearchMode=function deactivateSearchMode(){if(props.mode===\"all\")return;//Тут нет сброса пагинатора потому что он сбрасывается в useEffect\n// при размонтировании, если mode == \"search\".\nprops.history.push(\"/users/all/1/\");};props.forRef.current=deactivateSearchMode;var searchControl=useCallback(function(userName){if(!userName.userSearcher){deactivateSearchMode();return;}activateSearchMode(userName.userSearcher);},[activateSearchMode,deactivateSearchMode]);return React.createElement(UserSearcherForm,{onSubmit:searchControl});};var UserSearcherForm=function UserSearcherForm(props){return React.createElement(\"form\",{className:\"user-searcher\",onSubmit:props.handleSubmit},React.createElement(\"label\",{className:\"user-searcher__button-wrapper\"},React.createElement(\"button\",{className:\"user-searcher__button\"}),React.createElement(\"img\",{src:findImg,className:\"user-searcher__img\"})),React.createElement(Field,{component:Input,type:\"text\",placeholder:\"Search user . . .\",className:\"user-searcher__input\",name:\"userSearcher\"}));};UserSearcherForm=reduxForm({form:\"userSearcher\"})(UserSearcherForm);export default UserSearcher;","map":{"version":3,"sources":["D:/my-own-social-network/src/components/Users/UserSearcher.jsx"],"names":["findImg","React","useCallback","Field","reduxForm","Input","UserSearcher","props","activateSearchMode","userName","resetPaginatorPortion","history","push","deactivateSearchMode","mode","forRef","current","searchControl","userSearcher","UserSearcherForm","handleSubmit","form"],"mappings":"AAAA,MAAOA,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,WAAf,KAAiC,OAAjC,CACA,OAAQC,KAAR,CAAeC,SAAf,KAA+B,YAA/B,CACA,OAAQC,KAAR,KAAoB,sCAApB,CAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAE9B,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvCF,KAAK,CAACG,qBAAN,GACAH,KAAK,CAACI,OAAN,CAAcC,IAAd,2BAAsCH,QAAtC,GACD,CAHD,CAKA,GAAMI,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjC,GAAIN,KAAK,CAACO,IAAN,GAAe,KAAnB,CAA0B,OAC1B;AACA;AACAP,KAAK,CAACI,OAAN,CAAcC,IAAd,kBACD,CALD,CAOAL,KAAK,CAACQ,MAAN,CAAaC,OAAb,CAAuBH,oBAAvB,CAEA,GAAMI,CAAAA,aAAa,CAAGf,WAAW,CAC/B,SAACO,QAAD,CAAc,CACZ,GAAI,CAACA,QAAQ,CAACS,YAAd,CAA4B,CAC1BL,oBAAoB,GACpB,OACD,CACDL,kBAAkB,CAACC,QAAQ,CAACS,YAAV,CAAlB,CACD,CAP8B,CAO5B,CAACV,kBAAD,CAAqBK,oBAArB,CAP4B,CAAjC,CASA,MACE,qBAAC,gBAAD,EAAkB,QAAQ,CAAEI,aAA5B,EADF,CAGD,CA5BD,CA+BA,GAAIE,CAAAA,gBAAgB,CAAG,0BAACZ,KAAD,CAAW,CAChC,MACE,6BAAM,SAAS,CAAC,eAAhB,CAAgC,QAAQ,CAAEA,KAAK,CAACa,YAAhD,EACE,6BAAO,SAAS,CAAC,+BAAjB,EACE,8BAAQ,SAAS,CAAC,uBAAlB,EADF,CAEE,2BAAK,GAAG,CAAEpB,OAAV,CAAmB,SAAS,CAAC,oBAA7B,EAFF,CADF,CAKE,oBAAC,KAAD,EAAO,SAAS,CAAEK,KAAlB,CAAyB,IAAI,CAAC,MAA9B,CAAqC,WAAW,CAAC,mBAAjD,CAAqE,SAAS,CAAC,sBAA/E,CACO,IAAI,CAAC,cADZ,EALF,CADF,CAUD,CAXD,CAcAc,gBAAgB,CAAGf,SAAS,CAAC,CAC3BiB,IAAI,CAAE,cADqB,CAAD,CAAT,CAEhBF,gBAFgB,CAAnB,CAIA,cAAeb,CAAAA,YAAf","sourcesContent":["import findImg from \"../../assets/img/find.png\";\r\nimport React, {useCallback} from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../common/FormControl/FormControl\";\r\n\r\n\r\nconst UserSearcher = (props) => {\r\n\r\n  const activateSearchMode = (userName) => {\r\n    props.resetPaginatorPortion();\r\n    props.history.push(`/users/search/1/${userName}`);\r\n  };\r\n\r\n  const deactivateSearchMode = () => {\r\n    if (props.mode === \"all\") return;\r\n    //Тут нет сброса пагинатора потому что он сбрасывается в useEffect\r\n    // при размонтировании, если mode == \"search\".\r\n    props.history.push(`/users/all/1/`);\r\n  };\r\n\r\n  props.forRef.current = deactivateSearchMode;\r\n\r\n  const searchControl = useCallback(\r\n    (userName) => {\r\n      if (!userName.userSearcher) {\r\n        deactivateSearchMode();\r\n        return\r\n      }\r\n      activateSearchMode(userName.userSearcher);\r\n    }, [activateSearchMode, deactivateSearchMode]);\r\n\r\n  return (\r\n    <UserSearcherForm onSubmit={searchControl}/>\r\n  )\r\n};\r\n\r\n\r\nlet UserSearcherForm = (props) => {\r\n  return (\r\n    <form className=\"user-searcher\" onSubmit={props.handleSubmit}>\r\n      <label className=\"user-searcher__button-wrapper\">\r\n        <button className=\"user-searcher__button\"/>\r\n        <img src={findImg} className=\"user-searcher__img\"/>\r\n      </label>\r\n      <Field component={Input} type=\"text\" placeholder=\"Search user . . .\" className=\"user-searcher__input\"\r\n             name=\"userSearcher\"/>\r\n    </form>\r\n  )\r\n};\r\n\r\n\r\nUserSearcherForm = reduxForm({\r\n  form: \"userSearcher\"\r\n})(UserSearcherForm);\r\n\r\nexport default UserSearcher"]},"metadata":{},"sourceType":"module"}