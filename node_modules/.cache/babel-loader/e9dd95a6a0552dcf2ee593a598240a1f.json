{"ast":null,"code":"import _classCallCheck from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _possibleConstructorReturn from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import ContentEditable from\"react-contenteditable\";import{compose}from\"redux\";import withSendMessageHandlers from\"../../../HOC/withSendMessageHandlers\";import sendMessageImg from\"../../../assets/img/sendMessage.png\";import scrollTo from\"../../../common/JS/scrollTo\";// Пришлось использовать классовый компнент, так как при функциональном, ContentEditable не хотел\n// обновлять свои пропсы и принимать функцию handleEnterButton со свежими замыканиями.\nvar ChatField=/*#__PURE__*/function(_React$PureComponent){_inherits(ChatField,_React$PureComponent);function ChatField(){var _getPrototypeOf2;var _this;_classCallCheck(this,ChatField);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ChatField)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleMouseClick=function(){_this.props.sendMessage();scrollTo.top.element(_this.props.contactsListElem);};_this.handleEnterButton=function(event){if(event.keyCode!==13)return;if(event.shiftKey)return;_this.props.handleEnterButton(event);scrollTo.top.element(_this.props.contactsListElem);};_this.render=function(){return React.createElement(\"div\",{className:\"dialogs-field__chatFrame\"},React.createElement(\"label\",{className:\"dialogs-field__send-button-wrapper\"},React.createElement(\"img\",{className:\"send-button__img\",alt:\"send message image\",src:sendMessageImg}),React.createElement(\"button\",{className:\"send-button__button\",onClick:_this.handleMouseClick})),React.createElement(\"div\",{className:\"dialogs-field__chat\"},React.createElement(ContentEditable,{html:_this.props.state.messageText,disabled:false,tagName:\"div\",className:\"\",placeholder:\"Type your message . . .\",onChange:_this.props.handleOnChange,onKeyDown:_this.handleEnterButton})));};return _this;}return ChatField;}(React.PureComponent);export default compose(withSendMessageHandlers)(ChatField);","map":{"version":3,"sources":["D:/my-own-social-network/src/components/Dialogs/ChatWall/ChatField.jsx"],"names":["React","ContentEditable","compose","withSendMessageHandlers","sendMessageImg","scrollTo","ChatField","handleMouseClick","props","sendMessage","top","element","contactsListElem","handleEnterButton","event","keyCode","shiftKey","render","state","messageText","handleOnChange","PureComponent"],"mappings":"smBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,uBAA5B,CACA,OAAQC,OAAR,KAAsB,OAAtB,CACA,MAAOC,CAAAA,uBAAP,KAAoC,sCAApC,CACA,MAAOC,CAAAA,cAAP,KAA2B,qCAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CAGA;AACA;GACMC,CAAAA,S,+ZAIJC,gB,CAAmB,UAAM,CACvB,MAAKC,KAAL,CAAWC,WAAX,GACAJ,QAAQ,CAACK,GAAT,CAAaC,OAAb,CAAqB,MAAKH,KAAL,CAAWI,gBAAhC,EACD,C,OAEDC,iB,CAAoB,SAACC,KAAD,CAAW,CAC7B,GAAIA,KAAK,CAACC,OAAN,GAAkB,EAAtB,CAA0B,OAC1B,GAAID,KAAK,CAACE,QAAV,CAAoB,OACpB,MAAKR,KAAL,CAAWK,iBAAX,CAA6BC,KAA7B,EACAT,QAAQ,CAACK,GAAT,CAAaC,OAAb,CAAqB,MAAKH,KAAL,CAAWI,gBAAhC,EACD,C,OAEDK,M,CAAS,UAAM,CAEb,MACE,4BAAK,SAAS,CAAC,0BAAf,EACE,6BAAO,SAAS,CAAC,oCAAjB,EACE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAE,oBAAvC,CAA6D,GAAG,CAAEb,cAAlE,EADF,CAEE,8BAAQ,SAAS,CAAC,qBAAlB,CACQ,OAAO,CAAE,MAAKG,gBADtB,EAFF,CADF,CAOE,2BAAK,SAAS,CAAC,qBAAf,EACE,oBAAC,eAAD,EAAiB,IAAI,CAAE,MAAKC,KAAL,CAAWU,KAAX,CAAiBC,WAAxC,CACiB,QAAQ,CAAE,KAD3B,CAEiB,OAAO,CAAE,KAF1B,CAGiB,SAAS,CAAE,EAH5B,CAIiB,WAAW,CAAE,yBAJ9B,CAKiB,QAAQ,CAAE,MAAKX,KAAL,CAAWY,cALtC,CAMiB,SAAS,CAAE,MAAKP,iBANjC,EADF,CAPF,CADF,CAoBD,C,kCAtCqBb,KAAK,CAACqB,a,EAyC9B,cAAenB,CAAAA,OAAO,CACpBC,uBADoB,CAAP,CAEbG,SAFa,CAAf","sourcesContent":["import React from \"react\";\r\nimport ContentEditable from \"react-contenteditable\";\r\nimport {compose} from \"redux\";\r\nimport withSendMessageHandlers from \"../../../HOC/withSendMessageHandlers\";\r\nimport sendMessageImg from \"../../../assets/img/sendMessage.png\";\r\nimport scrollTo from \"../../../common/JS/scrollTo\";\r\n\r\n\r\n// Пришлось использовать классовый компнент, так как при функциональном, ContentEditable не хотел\r\n// обновлять свои пропсы и принимать функцию handleEnterButton со свежими замыканиями.\r\nclass ChatField extends React.PureComponent {\r\n\r\n  //2 функции ниже прокручивают вверх список контактов после отправки сообщения,\r\n  //чтобы юзер с котором идет диалог был в поле видимости.\r\n  handleMouseClick = () => {\r\n    this.props.sendMessage();\r\n    scrollTo.top.element(this.props.contactsListElem);\r\n  };\r\n\r\n  handleEnterButton = (event) => {\r\n    if (event.keyCode !== 13) return;\r\n    if (event.shiftKey) return;\r\n    this.props.handleEnterButton(event);\r\n    scrollTo.top.element(this.props.contactsListElem);\r\n  };\r\n\r\n  render = () => {\r\n\r\n    return (\r\n      <div className=\"dialogs-field__chatFrame\">\r\n        <label className=\"dialogs-field__send-button-wrapper\">\r\n          <img className=\"send-button__img\" alt={\"send message image\"} src={sendMessageImg}/>\r\n          <button className=\"send-button__button\"\r\n                  onClick={this.handleMouseClick}\r\n          />\r\n        </label>\r\n        <div className=\"dialogs-field__chat\">\r\n          <ContentEditable html={this.props.state.messageText}\r\n                           disabled={false}\r\n                           tagName={\"div\"}\r\n                           className={\"\"}\r\n                           placeholder={\"Type your message . . .\"}\r\n                           onChange={this.props.handleOnChange}\r\n                           onKeyDown={this.handleEnterButton}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withSendMessageHandlers\r\n)(ChatField);\r\n"]},"metadata":{},"sourceType":"module"}