{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\my-own-social-network\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";var withSendMessageHandlers=function withSendMessageHandlers(Component,smth){var _temp;return _temp=/*#__PURE__*/function(_React$PureComponent){_inherits(Wrapper,_React$PureComponent);function Wrapper(){var _getPrototypeOf2;var _this;_classCallCheck(this,Wrapper);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Wrapper)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={messageText:\"\"};_this.sendMessage=function _callee(){var messageText;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:messageText=_this.state.messageText.replace(/<[^>]+>/g,'');if(!messageText){_context.next=5;break;}_context.next=4;return _regeneratorRuntime.awrap(_this.props.sendNewMessage(_this.state.messageText));case 4:_this.setState({messageText:\"\"});case 5:case\"end\":return _context.stop();}}});};_this.handleEnterButton=function(event){if(event.keyCode!==13)return;if(event.shiftKey)return;_this.sendMessage(_this.state.messageText);event.preventDefault();};_this.handleOnChange=function(e){_this.setState({messageText:e.target.value});};return _this;}_createClass(Wrapper,[{key:\"render\",value:function render(){return React.createElement(Component,Object.assign({state:this.state,sendMessage:this.sendMessage,handleEnterButton:this.handleEnterButton,handleOnChange:this.handleOnChange},this.props));}}]);return Wrapper;}(React.PureComponent),_temp;};export default withSendMessageHandlers;","map":{"version":3,"sources":["D:/my-own-social-network/src/HOC/withSendMessageHandlers.js"],"names":["React","withSendMessageHandlers","Component","smth","state","messageText","sendMessage","replace","props","sendNewMessage","setState","handleEnterButton","event","keyCode","shiftKey","preventDefault","handleOnChange","e","target","value","PureComponent"],"mappings":"m4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,SAAD,CAAYC,IAAZ,CAAqB,WACnD,maAEEC,KAFF,CAEU,CACNC,WAAW,CAAE,EADP,CAFV,OAMEC,WANF,CAMgB,oJACRD,WADQ,CACM,MAAKD,KAAL,CAAWC,WAAX,CAAuBE,OAAvB,CAA+B,UAA/B,CAA2C,EAA3C,CADN,KAERF,WAFQ,0EAGJ,MAAKG,KAAL,CAAWC,cAAX,CAA0B,MAAKL,KAAL,CAAWC,WAArC,CAHI,SAIV,MAAKK,QAAL,CAAc,CACZL,WAAW,CAAE,EADD,CAAd,EAJU,8CANhB,OAgBEM,iBAhBF,CAgBsB,SAACC,KAAD,CAAW,CAC7B,GAAIA,KAAK,CAACC,OAAN,GAAkB,EAAtB,CAA0B,OAC1B,GAAID,KAAK,CAACE,QAAV,CAAoB,OACpB,MAAKR,WAAL,CAAiB,MAAKF,KAAL,CAAWC,WAA5B,EACAO,KAAK,CAACG,cAAN,GACD,CArBH,OAuBEC,cAvBF,CAuBmB,SAACC,CAAD,CAAO,CACtB,MAAKP,QAAL,CAAc,CACZL,WAAW,CAAEY,CAAC,CAACC,MAAF,CAASC,KADV,CAAd,EAGD,CA3BH,0EA6BY,CAER,MACE,qBAAC,SAAD,gBAAW,KAAK,CAAE,KAAKf,KAAvB,CACW,WAAW,CAAE,KAAKE,WAD7B,CAEW,iBAAiB,CAAE,KAAKK,iBAFnC,CAGW,cAAc,CAAE,KAAKK,cAHhC,EAIe,KAAKR,KAJpB,EADF,CAQD,CAvCH,qBAA6BR,KAAK,CAACoB,aAAnC,QAyCD,CA1CD,CA4CA,cAAenB,CAAAA,uBAAf","sourcesContent":["import React from \"react\";\r\n\r\n\r\nconst withSendMessageHandlers = (Component, smth) => {\r\n  return class Wrapper extends React.PureComponent {\r\n\r\n    state = {\r\n      messageText: \"\"\r\n    };\r\n\r\n    sendMessage = async () => {\r\n      let messageText = this.state.messageText.replace(/<[^>]+>/g, '');\r\n      if (messageText) {\r\n        await this.props.sendNewMessage(this.state.messageText);\r\n        this.setState({\r\n          messageText: \"\"\r\n        });\r\n      }\r\n    };\r\n\r\n    handleEnterButton = (event) => {\r\n      if (event.keyCode !== 13) return;\r\n      if (event.shiftKey) return;\r\n      this.sendMessage(this.state.messageText);\r\n      event.preventDefault();\r\n    };\r\n\r\n    handleOnChange = (e) => {\r\n      this.setState({\r\n        messageText: e.target.value\r\n      });\r\n    };\r\n\r\n    render () {\r\n\r\n      return (\r\n        <Component state={this.state}\r\n                   sendMessage={this.sendMessage}\r\n                   handleEnterButton={this.handleEnterButton}\r\n                   handleOnChange={this.handleOnChange}\r\n                   {...this.props}\r\n        />\r\n      )\r\n    }\r\n  }\r\n};\r\n\r\nexport default withSendMessageHandlers;"]},"metadata":{},"sourceType":"module"}